<!DOCTYPE html>
<html lang="en-US">
  <head>

    
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-138410033-1"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-138410033-1');
      </script>
    
    <meta charset="UTF-8">

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Teardown Homemate IoT Sensor | Ananth’s Blog</title>
<meta name="generator" content="Jekyll v4.3.4" />
<meta property="og:title" content="Teardown Homemate IoT Sensor" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Home Assistant is an open source home automation software stack that puts local control and privacy first. This is pretty good and the UI is also very customisable and can be extended easily. I want to replace my own custom wall display with this. Before that I need to find couple of IoT switches and relays which can be used to automate my home setup." />
<meta property="og:description" content="Home Assistant is an open source home automation software stack that puts local control and privacy first. This is pretty good and the UI is also very customisable and can be extended easily. I want to replace my own custom wall display with this. Before that I need to find couple of IoT switches and relays which can be used to automate my home setup." />
<link rel="canonical" href="https://www.eionix.co.in/2023/08/13/iot-sensor-home-assistant.html" />
<meta property="og:url" content="https://www.eionix.co.in/2023/08/13/iot-sensor-home-assistant.html" />
<meta property="og:site_name" content="Ananth’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-08-13T00:00:00+05:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Teardown Homemate IoT Sensor" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-08-13T00:00:00+05:30","datePublished":"2023-08-13T00:00:00+05:30","description":"Home Assistant is an open source home automation software stack that puts local control and privacy first. This is pretty good and the UI is also very customisable and can be extended easily. I want to replace my own custom wall display with this. Before that I need to find couple of IoT switches and relays which can be used to automate my home setup.","headline":"Teardown Homemate IoT Sensor","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.eionix.co.in/2023/08/13/iot-sensor-home-assistant.html"},"url":"https://www.eionix.co.in/2023/08/13/iot-sensor-home-assistant.html"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
    <script type="text/javascript" src="/assets/o3dv/o3dv.min.js"></script>

    <!-- <script data-ad-client="ca-pub-3090125590609746" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> -->
  </head>

  <body style="">
    <header class="page-header" role="banner" style="padding: 0px;background-color: #323638; background-image: none;margin-bottom: 15px;">
      <!-- Star in header start-->
      <script src="/assets/js/particles.js"></script>
      <style type="text/css"> 
        #particle-container{
          position: absolute;
          top: 0px;
          left: 0px;
          height: 200px;
          width: 100vw;
          z-index: 0;
        }
        .project-tagline{
          color: aliceblue;
          margin-bottom: 2rem;
          font-weight: normal;
          opacity: 0.7;
          text-align: center;
          font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
          font-size: large;
          margin-top: 35px;
        }
      </style>
      <script type="text/javascript">
        /* particlesJS.load(@dom-id, @path-json, @callback (optional)); */
        particlesJS.load('particle-container', '/assets/particle.json', function() {
          console.log('callback - particles.js config loaded');
        });
      </script>
      <div id="particle-container"></div>
      <!-- Star in header end-->

      <!-- Main title Eionix start -->
      <h1 class="project-name">&nbsp;<style type="text/css">

.content-eionix {
  position: absolute;
  top: 111px;
  left: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  height: 160px;
  overflow: hidden;
  font-family: 'Lato', sans-serif;
  font-size: 35px;
  line-height: 40px;
  color: #ecf0f1;
}
.content__container {
  font-weight: 600;
  overflow: hidden;
  height: 40px;
  padding: 0 40px;
}
.content__container:before {
  content: '[';
  left: 0;
}
.content__container:after {
  content: ']';
  position: absolute;
  right: 0;
}
.content__container:after, .content__container:before {
  position: absolute;
  top: 0;
  color: #16a085;
  font-size: 42px;
  line-height: 40px;
  -webkit-animation-name: opacity;
  -webkit-animation-duration: 2s;
  -webkit-animation-iteration-count: infinite;
  animation-name: opacity;
  animation-duration: 2s;
  animation-iteration-count: infinite;
}
.content__container__text {
  display: inline;
  float: left;
  margin: 0;
}
.content__container__list {
  margin-top: 0;
  padding-left: 110px;
  text-align: left;
  list-style: none;
  -webkit-animation-name: change;
  -webkit-animation-duration: 10s;
  -webkit-animation-iteration-count: infinite;
  animation-name: change;
  animation-duration: 10s;
  animation-iteration-count: infinite;
  /* margin-left: 0; */
}
.content__container__list__item {
  line-height: 40px;
  margin: 0;
}

@-webkit-keyframes opacity {
  0%, 100% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}
@-webkit-keyframes change {
  0%, 12.66%, 100% {
    -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
  }
  16.66%, 29.32% {
    -webkit-transform: translate3d(0, -25%, 0);
            transform: translate3d(0, -25%, 0);
  }
  33.32%,45.98% {
    -webkit-transform: translate3d(0, -50%, 0);
            transform: translate3d(0, -50%, 0);
  }
  49.98%,62.64% {
    -webkit-transform: translate3d(0, -75%, 0);
            transform: translate3d(0, -75%, 0);
  }
  66.64%,79.3% {
    -webkit-transform: translate3d(0, -50%, 0);
            transform: translate3d(0, -50%, 0);
  }
  83.3%,95.96% {
    -webkit-transform: translate3d(0, -25%, 0);
            transform: translate3d(0, -25%, 0);
  }
}
@keyframes opacity {
  0%, 100% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}
@keyframes change {
  0%, 12.66%, 100% {
    -webkit-transform: translate3d(0, 0, 0);
            transform: translate3d(0, 0, 0);
  }
  16.66%, 29.32% {
    -webkit-transform: translate3d(0, -25%, 0);
            transform: translate3d(0, -25%, 0);
  }
  33.32%,45.98% {
    -webkit-transform: translate3d(0, -50%, 0);
            transform: translate3d(0, -50%, 0);
  }
  49.98%,62.64% {
    -webkit-transform: translate3d(0, -75%, 0);
            transform: translate3d(0, -75%, 0);
  }
  66.64%,79.3% {
    -webkit-transform: translate3d(0, -50%, 0);
            transform: translate3d(0, -50%, 0);
  }
  83.3%,95.96% {
    -webkit-transform: translate3d(0, -25%, 0);
            transform: translate3d(0, -25%, 0);
  }
}

</style>

<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

<div class="content-eionix">
  <div class="content__container">
    <p class="content__container__text">
      EIONI
    </p>
    
    <ul class="content__container__list">
      <li class="content__container__list__item">X</li>
      <li class="content__container__list__item">X</li>
      <li class="content__container__list__item">X</li>
      <li class="content__container__list__item">X</li>
    </ul>
  </div>
</div></h1>
      <!-- Main title Eionix end -->
      <h2 class="project-tagline">A personal blog having hobby projects.</h2>
      
      

      <!-- Navigation bar start -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style type="text/css">
	#nav {
		height: 40px;
		line-height: 40px;
		background-color: #32363996;
		box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
		position: relative;
		z-index: 2;
		transition: transform 0.5s ease-in-out;
	}
	#nav ul {
		display: flex;
		justify-content: center;
		margin: 0;
		padding: 0;
	}
	#nav ul li {
		margin: 0;
		padding: 0;
		list-style:none;
	}
	#nav ul li a {
		text-decoration: none;
		padding: 10px 20px;
		color: #FFF;
		text-align: center;
	}
	#nav ul li a:hover{
		text-decoration: underline;
	}
	#icon-menu {
		display: none;
	}

	@media screen and (max-device-width: 350px), screen and (max-width: 350px){
	  #nav ul{
	    flex-direction: column;
	  }
	  #nav {
	  	height: auto;
	  }	
	}
	@media screen and (max-device-width: 678px),  screen and (max-width: 678px){
	  #icon-menu{
	  	display: initial;
	  }
	.rotated { 
	    -webkit-transform: rotate(90deg);
	    -moz-transform: rotate(90deg);
	    -o-transform: rotate(90deg);
	    -ms-transform: rotate(90deg);
	    transform: rotate(90deg);
	}
}
</style>
<script type="text/javascript">
          function toggle_side_bar(){
          	$(".fa-bars").toggleClass('rotated');
            if($('#side_bar').is(":visible")){
              $('#search-box').show("slow");
              $('#side_bar').hide("slow");
              $('#side_bar').css("width","0%");
              $('#content').css("width","100%");
              $('#content').show("slow");
            } else {
              $('#side_bar').css("width","100%");
              $('#side_bar').show("slow");
              $('#search-box').hide("slow");
              $('#content').hide();
              //$('#main-content').css("width","0%");
            }
            //$('#side_bar').toggle("slow");
          }
        </script>
<div id="nav">
	<ul>
		<li id="icon-menu">
			<a href="javascript:toggle_side_bar();">
    			<i class="fa fa-bars"></i>
    		</a>
    	</li>
		<li><a href="/">Home</a>

		</li>

		<li><a href="/posts.html">Posts</a>

		</li>
		<li><a href="/about/">About</a>

		</li>
	</ul>
</div>
      <!-- Navigation bar end -->
      <style type="text/css">
	.gsc-control-cse {
		border-color: #32353700 !important;
		background-color: #FFFFFFFF !important;
	}
	.gsc-results .gsc-cursor-box .gsc-cursor-current-page {
		background-color: #FFFFFFFF !important;
	}
	#search-box{
		position: absolute;
		right: 0px;
		/* float: right; */
		margin-top: 10px;
		width: 30%;
		/* height: 55px; */
		line-height: 15px;
		color: black;
	}
	@media screen and (max-device-width: 678px),  screen and (max-width: 678px){

		#search-box{
			position: absolute;
			right: 0px;
			margin-top: 0px;
			margin-left: -6px;
			width: 100%;
			line-height: 15px;
			color: black;
		}
		.gsc-results-wrapper-overlay{
			width: 100% !important;
			/*padding: 0px !important;*/
			left: 0px !important; 
		}
	}
</style>
<div id="search-box">
<script>
  (function() {
    var cx = '017758302252310002688:ep7ig_licse';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>
</div>
    </header>

    <div class="body">
      <style type="text/css">
        .body{
          display: flex;
          overflow: auto;
        }
      </style>
          <!-- Side bar start -->
    <div id="side_bar" style="">
      <div class="author-container">
        <style type="text/css">
          #side_bar{
            /*display: inline-block; */
            /*float: left;*/
            vertical-align: top; 
            margin-left: 29px;
            margin-top: 29px;
            width: 30%; 
            /*overflow: hidden !important;*/
          }
          #content{
            vertical-align: top; 
            /*display: inline-block;
            width:70%;*/
          }
          @media screen and (max-device-width: 678px), screen and (max-width: 678px){
            #side_bar{
              display: none;
              /*width:0%;*/
            }
          }
          .profile-pic{
            border-radius: 50%;
            display: inline;
            vertical-align: middle;
            /*border: 4px solid black;*/
            -webkit-border-radius: 50%;
            transition: .5s ease;
          }
          .profile-pic:hover {
            -webkit-transform: scale(1.1);
            transform: scale(1.1);
            box-shadow: 0 0 5px 1px rgba(0, 0, 0, 0.5);
            opacity: 1;
            -webkit-animation: flash 1.5s;
            animation: flash 1.5s;
          }
          @-webkit-keyframes flash {
            0% {
              opacity: .4;
            }
            100% {
              opacity: 1;
            }
          }
          @keyframes flash {
            0% {
              opacity: .4;
            }
            100% {
              opacity: 1;
            }
          }
          .author{    
            font-size: larger;
            vertical-align: 15px;
            margin-left: 85px;
            margin-top: -74px;
          }
          .job-title{
            margin-left: 97px;
            /*margin-top: -38px;*/
            font-size: medium;
          }
          .author-container{
            margin: 5px;
          }
        </style>
        <img src="/assets/img/profile.jpg" class="profile-pic" width="80px">
        <div class="author">
          ANANTHAKRISHNAN U S
        </div>
        <div class="job-title">
          Senior R&D Engineer, ABB India
        </div>
      </div>

            <div class="tag-container">
        <style type="text/css">
          .tag-container{
            margin-top: 30px;
            margin-left: 20px;
            max-width: 400px;
          }
          .tag-heading{
            line-height: 50px;
          }
          .tags {
            list-style: none;
            margin: 0;
            overflow: hidden; 
            padding-left: 12px;
          }

          .tags li {
            float: left; 
          }

          .tag-eionix {
            background: #878787;
            border-radius: 3px 0 0 3px;
            color: #fff;
            display: inline-block;
            height: 26px;
            line-height: 26px;
            padding: 0 20px 0 23px;
            position: relative;
            margin: 0 10px 10px 0;
            text-decoration: none;
            -webkit-transition: color 0.2s;
            font-size: smaller;
          }

          .tag-eionix::before {
            background: #fff;
            border-radius: 10px;
            box-shadow: inset 0 1px rgba(0, 0, 0, 0.25);
            content: '';
            height: 6px;
            left: 10px;
            position: absolute;
            width: 6px;
            top: 10px;
          }

          .tag-eionix::after {
            background: #fff;
            border-bottom: 13px solid transparent;
            border-left: 10px solid #878787;
            border-top: 13px solid transparent;
            content: '';
            position: absolute;
            right: 0;
            top: 0;
          }

          .tag-eionix:hover {
            background-color: #319957;
            color: white;
            text-decoration: none;
          }

          .tag-eionix:hover::after {
           border-left-color: #319957; 
         }
        </style>
        <div class="tag-heading">
          <style type="text/css">
            .archive-list ul{
              margin: 0;
            }
          </style>
        Tags
        </div>
        <ul class="tags">
          
          <li><a href="/tag/iot/posts.html" class="tag-eionix"> IoT </a></li>
          
          <li><a href="/tag/home assistant/posts.html" class="tag-eionix"> Home Assistant </a></li>
          
          <li><a href="/tag/deep learning/posts.html" class="tag-eionix"> Deep Learning </a></li>
          
          <li><a href="/tag/3d printing/posts.html" class="tag-eionix"> 3D printing </a></li>
          
          <li><a href="/tag/reverse engineering/posts.html" class="tag-eionix"> Reverse Engineering </a></li>
          
          <li><a href="/tag/blogging/posts.html" class="tag-eionix"> Blogging </a></li>
          
          <li><a href="/tag/pi/posts.html" class="tag-eionix"> Pi </a></li>
          
          <li><a href="/tag/product design/posts.html" class="tag-eionix"> Product Design </a></li>
          
          <li><a href="/tag/drones/posts.html" class="tag-eionix"> Drones </a></li>
          
          <li><a href="/tag/ros/posts.html" class="tag-eionix"> ROS </a></li>
          
          <li><a href="/tag/iot/posts.html" class="tag-eionix"> IOT </a></li>
          
          <li><a href="/tag/opencv/posts.html" class="tag-eionix"> opencv </a></li>
          
          <li><a href="/tag/robotics/posts.html" class="tag-eionix"> Robotics </a></li>
          
          <li><a href="/tag/atmega328pu/posts.html" class="tag-eionix"> Atmega328PU </a></li>
          
          <li><a href="/tag/beaglebone black/posts.html" class="tag-eionix"> BeagleBone Black </a></li>
          
          <li><a href="/tag/networkking/posts.html" class="tag-eionix"> Networkking </a></li>
          
          <li><a href="/tag/linux/posts.html" class="tag-eionix"> Linux </a></li>
          
          <li><a href="/tag/matlab/posts.html" class="tag-eionix"> Matlab </a></li>
          
          <li><a href="/tag/tips and tricks/posts.html" class="tag-eionix"> Tips and Tricks </a></li>
          
          <li><a href="/tag/electronics/posts.html" class="tag-eionix"> Electronics </a></li>
          
          <li><a href="/tag/c/posts.html" class="tag-eionix"> C </a></li>
          
          <li><a href="/tag/gaming/posts.html" class="tag-eionix"> Gaming </a></li>
          
          <li><a href="/tag/after effect/posts.html" class="tag-eionix"> After Effect </a></li>
          
          <li><a href="/tag/web designing/posts.html" class="tag-eionix"> Web Designing </a></li>
          
        </ul>
      </div>

      <div class="tag-container" style="width:300px;">
        <style type="text/css">
          .tree-list{
           margin-top: 0;
         }
         .tree-list li > ul, .tree-list li > ul {
           display: none;
         }
         .tree-list input[type="checkbox"]:checked + ul, .tree-list input[type="checkbox"]:checked + ul{
           display: block;
         }
         .tree-list input[type="checkbox"] {
           display: none;
           position: relative;
         }
         .tree-list label {
           position: relative;
           display: inline-block;
         }
         .tree-list label:after {
           /*content: '+';*/
           position: static;
         }
        </style>
        <div class="tag-heading">
        Archive
        </div>
        <ul class="tree-list"><li><label for="l1"> 2024 </label><input id="l1" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l1i1">December</label>
                <input id="l1i1" type="checkbox">
                <ul><li><a href="/2024/12/21/Ubuntu24.04_TUF_A14.html">Setting Ubuntu 24.04 on ASUS TUF A14</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l2"> 2023 </label><input id="l2" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l2i1">August</label>
                <input id="l2i1" type="checkbox">
                <ul><li><a href="/2023/08/13/iot-sensor-home-assistant.html">Teardown Homemate IoT Sensor</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l3"> 2022 </label><input id="l3" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l3i1">December</label>
                <input id="l3i1" type="checkbox">
                <ul><li><a href="/2022/12/09/nerual-network-derrivation-copy.html">Forward & Backward Propagation</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l3i2">November</label>
                <input id="l3i2" type="checkbox">
                <ul><li><a href="/2022/11/20/fish-bowl.html">Designing a Fish bowl using blender</a></li>        
                  <li><a href="/2022/11/19/pen-holder.html">Designing a custom Pen Holder</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l3i3">August</label>
                <input id="l3i3" type="checkbox">
                <ul><li><a href="/2022/08/27/3d-printing.html">3D printing</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l4"> 2019 </label><input id="l4" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l4i1">October</label>
                <input id="l4i1" type="checkbox">
                <ul><li><a href="/2019/10/29/iron-man-plymouth-theme.html">Iron Man Plymouth Theme</a></li>        
                  <li><a href="/2019/10/10/reverse-engineer-ddpai-firmware.html">Reverse Engineer DDPAI Dash Cam Firmware</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l4i2">June</label>
                <input id="l4i2" type="checkbox">
                <ul><li><a href="/2019/06/29/smart-home-display-iot-diy-google-home-hub.html">Smart Home Display IOT</a></li>        
                  <li><a href="/2019/06/04/raspberry-pi-tips-and-tricks.html">Raspberry pi Tips and Tricks</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l4i3">April</label>
                <input id="l4i3" type="checkbox">
                <ul><li><a href="/2019/04/14/create-a-blog-with-custom-domain-and-host-using-github.html">Blog using Jekyll | Github Pages with custom domain</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l4i4">January</label>
                <input id="l4i4" type="checkbox">
                <ul><li><a href="/2019/01/09/product-design-of-4-wheel-differential.html">Product Design of a 4 wheel differential drive robot</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l5"> 2018 </label><input id="l5" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l5i1">October</label>
                <input id="l5i1" type="checkbox">
                <ul><li><a href="/2018/10/06/inventory-app-for-hobbyists.html">Inventory App for hobbyists</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l5i2">March</label>
                <input id="l5i2" type="checkbox">
                <ul><li><a href="/2018/03/11/raspberry-pi-based-car-infotainment.html">Raspberry pi based Car Infotainment system</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l6"> 2017 </label><input id="l6" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l6i1">August</label>
                <input id="l6i1" type="checkbox">
                <ul><li><a href="/2017/08/03/creating-wireless-remote-for-nikon.html">Creating a Wireless remote for Nikon Camera using Esp8266</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l6i2">April</label>
                <input id="l6i2" type="checkbox">
                <ul><li><a href="/2017/04/22/ros-simulating-3-axis-robot-in-rviz.html">ROS simulating a 3 axis robot in Rviz</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l6i3">January</label>
                <input id="l6i3" type="checkbox">
                <ul><li><a href="/2017/01/01/batman-key-chain-with-esp8266.html">Batman Key chain with ESP8266</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l7"> 2016 </label><input id="l7" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l7i1">November</label>
                <input id="l7i1" type="checkbox">
                <ul><li><a href="/2016/11/13/mav-with-two-propeller.html">MAV with two propeller</a></li>        
                  <li><a href="/2016/11/06/my-single-rotor-mav.html">My single rotor MAV :)</a></li>        
                  <li><a href="/2016/11/02/this-is-another-theme-i-created-for.html">PlymouthTheme-TheRun</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l7i2">October</label>
                <input id="l7i2" type="checkbox">
                <ul><li><a href="/2016/10/30/plymouth-theme-for-ubuntu.html">Plymouth theme for Ubuntu</a></li>        
                  <li><a href="/2016/10/21/self-balancing-robot.html">Self Balancing Robot</a></li>        
                  <li><a href="/2016/10/21/warehouse-management-system-using-drones.html">Warehouse Management System using Drones</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l7i3">September</label>
                <input id="l7i3" type="checkbox">
                <ul><li><a href="/2016/09/21/controlling-parrot-bebop-using-ros.html">Controlling Parrot Bebop using ROS Kinetic</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l7i4">January</label>
                <input id="l7i4" type="checkbox">
                <ul><li><a href="/2016/01/27/smart-room-wireless-controlled.html">Smart Room :-) | Wireless controlled appliances</a></li>        
                  <li><a href="/2016/01/27/esp8266-wifi-iot-chip-programing.html">ESP8266 WiFi IOT chip | Programing the Firmware</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l8"> 2015 </label><input id="l8" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l8i1">November</label>
                <input id="l8i1" type="checkbox">
                <ul><li><a href="/2015/11/14/searching-and-precision-landing-of-ar.html">Searching and Precision Landing of AR Drone 2.0 using Neural Network | Gazebo | ROS </a></li>        
                  <li><a href="/2015/11/13/simulating-controlling-ar-drone-20.html">Simulation & Controlling AR Drone 2.0 using Gamepad | Gazebo | ROS</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l8i2">October</label>
                <input id="l8i2" type="checkbox">
                <ul><li><a href="/2015/10/21/a-multilayer-neural-network-based.html">A Multilayer Neural Network Based Obstacle Avoiding Robot | ROS | Simulation</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l8i3">August</label>
                <input id="l8i3" type="checkbox">
                <ul><li><a href="/2015/08/30/controlling-turtlesim-using-gamepad-ros.html">Controlling turtlesim using a Gamepad | ROS</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l8i4">July</label>
                <input id="l8i4" type="checkbox">
                <ul><li><a href="/2015/07/30/clap-switch.html">Clap Switch</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l8i5">May</label>
                <input id="l8i5" type="checkbox">
                <ul><li><a href="/2015/05/12/vision-based-line-follower-using-opencv.html">Vision Based Line Follower using opencv</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l8i6">April</label>
                <input id="l8i6" type="checkbox">
                <ul><li><a href="/2015/04/30/best-tutorial-for-beagleboneblack.html">Best tutorial for BeagleBoneBlack</a></li>        
                  <li><a href="/2015/04/30/reading-and-showing-images-using-opencv.html">Reading and showing images using opencv</a></li>        
                  <li><a href="/2015/04/18/mobile-robot-controlling-using.html">A Differential Drive Mobile Robot using BeagleBone Black</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l8i7">March</label>
                <input id="l8i7" type="checkbox">
                <ul><li><a href="/2015/03/01/display-text-in-color-linux-terminal.html">Display text in color - Linux terminal</a></li>        
                  <li><a href="/2015/03/01/beagleboneblack-adc.html">BeagleBoneBlack ADC</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l8i8">February</label>
                <input id="l8i8" type="checkbox">
                <ul><li><a href="/2015/02/27/beagleboneblack-gpio-push-button-led.html">BeagleBoneBlack GPIO Push Button + LED</a></li>        
                  <li><a href="/2015/02/27/led-cube-using-atmega328p.html">LED Cube using Atmega328P</a></li>        
                  <li><a href="/2015/02/27/gpio-blink-led-using-c-beagleboneblack.html">GPIO Blink an LED using C - BeagleBoneBlack</a></li>        
                  <li><a href="/2015/02/27/gpio-blinking-led-using-bash-script.html">GPIO Blinking an LED using bash script</a></li>        
                  <li><a href="/2015/02/27/getting-started-with-gpio-testing-gpio.html">Getting started with GPIO (Testing GPIO with a multimeter)</a></li>        
                  <li><a href="/2015/02/22/beagleboneblack-apt-get-upgrade-error.html">BeagleBoneBlack apt-get upgrade error due to led-aging.sh</a></li>        
                  <li><a href="/2015/02/22/getting-internet-on-bbb-via-usb-share.html">Getting internet on BBB via usb (Share internet from your linux machine)</a></li>        
                  <li><a href="/2015/02/22/remote-access-your-beaglebone-black.html">Remote access your BeagleBone Black using vnc</a></li>        
                  <li><a href="/2015/02/21/program-bbb-using-c-blink-onboard-led.html">Program BBB using C (Blink onboard LED)</a></li>        
                  <li><a href="/2015/02/21/getting-started-with-beaglebone-black.html">Getting started with BeagleBone Black (Remote login via SSH with Linux / Windows)</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l9"> 2014 </label><input id="l9" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l9i1">December</label>
                <input id="l9i1" type="checkbox">
                <ul><li><a href="/2014/12/26/c-socket-programming-extract-ip-address.html">Extract public IP address using C</a></li>        
                  <li><a href="/2014/12/20/chatmessenger-program-using-c.html">Chat/Messenger program using c</a></li>        
                  <li><a href="/2014/12/20/socket-programming-in-c.html">Socket Programming in C</a></li>        
                  <li><a href="/2014/12/18/gray-level-transformation-negative.html">Gray Level Transformations</a></li>        
                  <li><a href="/2014/12/05/creating-and-deleting.html">Creating and Deleting Folders/Directories using C</a></li>        
                  <li><a href="/2014/12/05/flooding-ram-with-c.html">Flooding RAM ( C )</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l9i2">September</label>
                <input id="l9i2" type="checkbox">
                <ul><li><a href="/2014/09/22/simple-dip-threshold-animation-using.html">Simple DIP threshold animation using Matlab</a></li>        
                  <li><a href="/2014/09/15/automating-scripts-using-expect.html">Automating scripts using expect</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l9i3">July</label>
                <input id="l9i3" type="checkbox">
                <ul><li><a href="/2014/07/22/how-to-use-variable-from-bash-to-use-in.html">How to use variable from bash to use in awk?</a></li>        
                  <li><a href="/2014/07/22/linux-command-awk.html">Linux command awk extract anything</a></li>        
                  <li><a href="/2014/07/22/pass-output-of-one-command-to-argument.html">Pass output of one command to argument of other</a></li>        
                  <li><a href="/2014/07/19/how-to-know-external-ip-address-from.html">How to know external IP address from Linux terminal?</a></li>        
                  <li><a href="/2014/07/16/how-to-set-dns-address-in-android-phones.html">How to set dns address in android phones?</a></li>        
                  <li><a href="/2014/07/16/how-to-see-open-ports-inlinux.html">How to see open ports inLinux?</a></li>        
                  <li><a href="/2014/07/15/testing-nat-port-forwarding-and.html">Testing NAT Port Forwarding and reverese NAT</a></li>        
                  <li><a href="/2014/07/15/how-to-see-dns-reply-or-testing-dns.html">How to see DNS reply? or Testing DNS server?</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l9i4">May</label>
                <input id="l9i4" type="checkbox">
                <ul><li><a href="/2014/05/14/ultrasonic-hover-input-device.html">Ultrasonic Hover Input Device</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l9i5">April</label>
                <input id="l9i5" type="checkbox">
                <ul><li><a href="/2014/04/02/how-to-send-at-commands.html">How to send AT commands?</a></li>        
                  <li><a href="/2014/04/02/at-commands.html">AT Commands</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l9i6">March</label>
                <input id="l9i6" type="checkbox">
                <ul><li><a href="/2014/03/31/how-to-hide-and-unhide-files-in-linux.html">How to hide and unhide files in Linux?</a></li>        
                  <li><a href="/2014/03/31/linux-how-to-find-your-serial-any.html">Linux: How to find your serial (any connected) device?</a></li>        
                  <li><a href="/2014/03/30/serial-port-communication-in-linux.html">Serial Port Communication in Linux using Minicom</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          <li><label for="l10"> 2013 </label><input id="l10" name="iddd" type="checkbox">
            <ul>
              
              
              <li>  
                <label for="l10i1">October</label>
                <input id="l10i1" type="checkbox">
                <ul><li><a href="/2013/10/29/wwwieeegecskpin.html">www.ieeegecskp.in</a></li>        
                  <li><a href="/2013/10/29/use-matlab-to-read-serial-data.html">Use Matlab to read serial data</a></li>        
                  <li><a href="/2013/10/29/creative-destruction-batch-hacks.html">Creative Destruction | Batch Hacks</a></li>        
                  <li><a href="/2013/10/11/serial-port-communication-using-avr.html">Serial port communication using AVR</a></li>        
                  <li><a href="/2013/10/06/mark-all-gmail-messages-as-read.html">Mark all Gmail messages as read</a></li>        
                  <li><a href="/2013/10/02/changing-colour-of-your-mouse.html">Changing the colour of your mouse</a></li>        
                  
                </ul>
              </li>
              
              
              <li>  
                <label for="l10i2">January</label>
                <input id="l10i2" type="checkbox">
                <ul><li><a href="/2013/01/21/driving-2-led-in-fasion.html">Driving 2 LED in a Fasion</a></li>        
                  <li><a href="/2013/01/21/blinking-led-with-microcontroller.html">Blinking an LED with Microcontroller</a></li>        
                  <li><a href="/2013/01/21/lighting-led-with-microcontroller.html">Lighting an LED with Microcontroller | Atmega328p</a></li>        
                  <li><a href="/2013/01/21/get-started-with-microcontroller.html">Get started with Microcontroller | Atmega328p</a></li>        
                  <li><a href="/2013/01/21/electret-microphones-cma-4544pf-w.html">Electret Microphones (CMA-4544PF-W)</a></li>        
                  <li><a href="/2013/01/20/encode-your-text-into-ascii-hex-code.html">Encode your text into ASCII HEX code using C</a></li>        
                  <li><a href="/2013/01/20/authentication-of-username-and-password.html">Authentication of username and password using PHP(MySQL)</a></li>        
                  <li><a href="/2013/01/19/after-effect-tutorial.html">After Effect Tutorial</a></li>        
                  <li><a href="/2013/01/19/invento-promo-video-after-effects.html">Invento Promo Video | After Effects</a></li>        
                  <li><a href="/2013/01/19/invento-logo-animation-using-after.html">Invento Logo Animation | Using After Effect</a></li>        
                  <li><a href="/2013/01/19/nfs-mw-best-scenes-mw-gameplay-pursuits.html">NFS MW best scenes | MW Gameplay pursuits</a></li>        
                  <li><a href="/2013/01/19/sastra-systems.html">Sastra Systems</a></li>        
                  <li><a href="/2013/01/19/wwwinventogecskpcom.html">www.inventogecskp.com</a></li>        
                  <li><a href="/2013/01/19/html-where-to-begin.html">HTML | Where to begin?</a></li>        
                  <li><a href="/2013/01/19/a-basics-to-html.html">A Basics to HTML</a></li>        
                  
                </ul>
              </li>
              
            </ul>
          </li>
          
        </ul>
      </div>
      <div class="tag-heading">
        Found useful?
      </div>
      <div style="margin-bottom: 5px;margin-left: 11px;">
        <a href="http://feeds.feedburner.com/co/ZTQz" rel="alternate" type="application/rss+xml"><img src="//feedburner.google.com/fb/images/pub/feed-icon16x16.png" alt="" style="vertical-align:middle;border:0"/></a>&nbsp;<a href="http://feeds.feedburner.com/co/ZTQz" rel="alternate" type="application/rss+xml">Subscribe</a>
      </div>

      <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
      <input type="hidden" name="cmd" value="_s-xclick">
      <input type="hidden" name="hosted_button_id" value="78ASX9A6245B6">
      <input type="image" src="/assets/img/donate.png" width="120px" border="0" name="submit" alt="PayPal – The safer, easier way to pay online!">
      <img alt="" border="0" src="https://www.paypalobjects.com/en_GB/i/scr/pixel.gif" width="1" height="1">
      </form>

    </div>
<!-- Side bar end -->

      <!-- Main post content start -->
      <main id="content" class="main-content" role="main" style="margin: 0;">
        <style type="text/css">
          #page-content{
            max-width: 64rem;
            margin: auto;
          }
          #content{
            max-width:70%;
            margin-top: 30px !important;
          }
          #page-content p img{
            width:400px;
            max-width: 100%;
            transition: transform .2s;
          }
          #page-content iframe, video{
            max-width: 100%;
            width: 400px;
            height: 350px;
          }
          #page-content p img:hover{
            z-index: 3;
            position: relative;
            background-color: white;
            transform: scale(2);
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
          }
          @media screen and (max-width: 678px){
            #content{
              max-width:100%;
            }
            #page-content p img:hover{
              transform: scale(1);
            }
          }
        </style>
        <div id="page-content">
          
            <h1> Teardown Homemate IoT Sensor </h1>
            
          13 Aug 2023
          <p><a href="https://www.home-assistant.io/">Home Assistant</a> is an open source home automation software stack that puts local control and privacy first. This is pretty good and the UI is also very customisable and can be extended easily. I want to replace my own custom <a href="https://www.eionix.co.in/2019/06/29/smart-home-display-iot-diy-google-home-hub.html">wall display</a> with this. Before that I need to find couple of IoT switches and relays which can be used to automate my home setup.</p>

<h2 id="overview">Overview</h2>

<p>The tricky part is to find a brand (in India) that works with home assistant. Finally bought one <a href="https://homemate.co.in/product/wi-fi-fan-touch-switch/">https://homemate.co.in/product/wi-fi-fan-touch-switch/</a> manufactured by HomeMate <a href="https://homemate.co.in/">https://homemate.co.in/</a>.</p>

<p><img src="/assets/img/homemate_fan_switch.webp" alt="switch" /></p>

<p>Turns out, these devices run a custom firmware build by Tuya platform (A chineese IoT/AI company) and there is a Home Assitant integration plugin called <a href="https://www.home-assistant.io/integrations/tuya/">Tuya</a> for integrating. You can configure those devices using this plugin and will work most of the times (:-)). But I do not want an IoT device in my network that send stats every now and then to a Chineese cloud vendor. So let’s teardown this and see what’s inside and may be we can flash our own custom firmware.</p>

<h2 id="teardown">Teardown</h2>

<p>There is a dedicated app which can be used to configure the device. Once configured you can switch the fan on/off set timer etc… Let’s tear down and see what’s inside first.</p>

<p><img src="/assets/img/homemate_teardown1.jpeg" alt="teardown" />
<img src="/assets/img/homemate_teardown2.jpeg" alt="teardown" />
<img src="/assets/img/homemate_teardown3.jpeg" alt="teardown" />
<img src="/assets/img/homemate_teardown4.jpeg" alt="teardown" /></p>

<p>Turns out, it’s a CB3s module <a href="https://developer.tuya.com/en/docs/iot/cb3s?id=Kai94mec0s076">https://developer.tuya.com/en/docs/iot/cb3s?id=Kai94mec0s076</a>. On further investigation, it turns out that the entire module is built up using tuya IoT Core which is a chineese IoT/AI company service. They offers a free to brand home solution which can be created solely using their Tuya web portal and to choose any predisigned products/wifi modules and as well as mobile apps. The initial devices were using esp8266 chips. Found this <a href="https://github.com/ct-Open-Source/tuya-convert">tuya-convert</a> github link where it expains how to hack these chips and flash a custom firmware. Probably they changed the chips from esp8266 to cbxx chips. It would have been much easier to flash esp8266 chips.</p>

<p>Found this link <a href="https://github.com/tuya-cloudcutter/tuya-cloudcutter">tuya-cloud-cutter</a> where it is possible to do the same but for the cb3s modules. Since the chip is not esp based, we cannot use <a href="https://esphome.io/">ESPHome</a> or <a href="https://tasmota.github.io/docs/">Tasmota</a>. There is a similar one called <a href="https://github.com/openshwprojects/OpenBK7231T_App">OpenBeken</a> which supports the CB3s module.</p>

<p>Following <a href="https://github.com/ct-Open-Source/tuya-convert">tuya-convert</a> steps will help in installing the OpenBeken build. Before that, you can find out the current installed firmware from the native android app. Then find a compaitable build from the <a href="https://github.com/openshwprojects/OpenBK7231T_App/releases/">release</a> page. You can follow the <a href="https://www.elektroda.com/">Electroda</a> forum for more information on the Openbeken and tuya devices.</p>

<p>Once you finished with the tuya-convert steps, you will end up with a openbeken firmware. Similar to tasmota, the device will create a Hotspot and you can navigate to a web interface at 192.168.4.1.</p>

<p><img src="/assets/img/openbeken_webportal.png" alt="openbeken_web_portal" /></p>

<p>Now you need to configure the device. For this you need to know the pinout. It seems different vendors may change the pinout slightly. Also depending on the vendors, they may choose a slighty different chip within the circuit board (for example some may use BL0937 or BL0942 for power monitoring). There is also a tuya MCU chip which is connected via UART (I guess) to the main chip (CB3S).The CB3S chip will send custom commands to the tuyaMCU and it will execute those.</p>

<p>The openBeken firmware has support for all of these modules. You only need to figure out the pin layout and it’s configuration. A big kudos to those who worked on these projects and also for figuring out the commands tuyaMCU supports.</p>

<p>Go to <a href="http://192.168.4.1/app?">http://192.168.4.1/app?</a> and configure the pins (detailed configuration are mentioned below. Had to spend a lot of time figuring out the pinout/configurations). You may also need to add an autoexec.bat file which is executed on boot. This can be used to load drivers and tuyaMCU configurations. Also configure your wifi and home assistant server details.</p>

<p>My initial thought was to replace the CB3S module with my ESP12E module and flash ESPHome or custom firmware. That is not required anymore. Chances are that homemate use the same platform for other product variants as well. So I bought couple of their other products as well.</p>

<h3 id="1-homemate-wifi-mini-smart-plug-socket-10-a">1. Homemate WiFi mini Smart Plug Socket 10 A</h3>

<p><strong>Pinout configuration</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"vendor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tuya"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bDetailed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full Device Name Here"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enter short model name here"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"chip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BK7231N"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"board"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TODO"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"flags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1024"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"TODO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TODO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TODO"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pins"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"6"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BL0937CF1;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"7"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BL0937CF;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LED_n;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"10"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Btn;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"24"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BL0937SEL;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"26"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rel;1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"startDriver BL0937"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://obrazki.elektroda.pl/YOUR_IMAGE.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"wiki"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.elektroda.com/rtvforum/topic_YOUR_TOPIC.html"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<h3 id="2-homemate-wifi-smart-heavy-duty-plug-socket-16-a">2. Homemate WiFi Smart Heavy Duty Plug Socket 16 A</h3>

<p><strong>Pinout configuration</strong></p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"vendor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tuya"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bDetailed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Full Device Name Here"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"enter short model name here"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"chip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BK7231T"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"board"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TODO"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"flags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1024"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"TODO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TODO"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"TODO"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pins"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"7"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BL0937CF;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BL0937CF1;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"10"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Btn;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"24"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BL0937SEL;1"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"26"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rel;1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"startDriver BL0937"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://obrazki.elektroda.pl/YOUR_IMAGE.jpg"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"wiki"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.elektroda.com/rtvforum/topic_YOUR_TOPIC.html"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>autoexec.bat</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SetupEnergyStats
startDriver BL0937
startDriver NTP
</code></pre></div></div>
<h3 id="3-homemate-wifi-4-gang-smart-touch-switch">3. Homemate WiFi 4 Gang Smart Touch Switch</h3>

<p><strong>autoexec.bat</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>startDriver TuyaMCU

setChannelType 1 toggle
setChannelType 2 toggle
setChannelType 3 toggle
setChannelType 4 toggle
setChannelType 13 toggle

setChannelType 7 TextField
setChannelType 8 TextField
setChannelType 9 TextField
setChannelType 10 TextField

linkTuyaMCUOutputToChannel 1 1 1
linkTuyaMCUOutputToChannel 2 1 2
linkTuyaMCUOutputToChannel 3 1 3
linkTuyaMCUOutputToChannel 4 1 4
linkTuyaMCUOutputToChannel 7 2 7
linkTuyaMCUOutputToChannel 8 2 8
linkTuyaMCUOutputToChannel 9 2 9
linkTuyaMCUOutputToChannel 10 2 10
linkTuyaMCUOutputToChannel 13 1 13
</code></pre></div></div>
<h3 id="4-homemate-wifi-smart-regulator-switch">4. Homemate WiFi Smart Regulator Switch</h3>

<p><strong>autoexec.bat</strong></p>

<div class="language-bat highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">AutoExec</span>

// <span class="nb">start</span> <span class="kd">MCU</span> <span class="kd">driver</span>
<span class="kd">startDriver</span> <span class="kd">TuyaMCU</span>

// <span class="kd">fan</span> <span class="na">on/off </span><span class="kd">channel</span>
<span class="kd">setChannelType</span> <span class="m">1</span> <span class="kd">toggle</span>

//fan <span class="kd">speed</span> <span class="kd">channel</span>
<span class="kd">setChannelType</span> <span class="m">3</span> <span class="kd">OffLowestLowMidHighHighest</span>

// <span class="kd">child</span> <span class="kd">Lock</span> <span class="kd">channel</span>
<span class="kd">setChannelType</span> <span class="m">14</span> <span class="kd">toggle</span>

// <span class="kd">countdown</span> <span class="kd">channel</span>
<span class="kd">setChannelType</span> <span class="m">22</span> <span class="kd">TextField</span>

// <span class="kd">remaining</span> <span class="kd">timer</span> <span class="kd">channel</span>
<span class="kd">setChannelType</span> <span class="m">23</span> <span class="kd">TextField</span>

// <span class="kd">link</span> <span class="kd">output</span> <span class="m">1</span> <span class="kd">to</span> <span class="kd">channel</span> <span class="m">1</span>
<span class="kd">linkTuyaMCUOutputToChannel</span> <span class="m">1</span> <span class="m">1</span> <span class="m">1</span>

// <span class="kd">link</span> <span class="kd">output</span> <span class="m">3</span> <span class="kd">to</span> <span class="kd">channel</span> <span class="m">3</span>
<span class="kd">linkTuyaMCUOutputToChannel</span> <span class="m">3</span> <span class="m">2</span> <span class="m">3</span>

// <span class="kd">link</span> <span class="kd">output</span> <span class="m">14</span> <span class="kd">to</span> <span class="kd">channel</span> <span class="m">14</span>
<span class="kd">linkTuyaMCUOutputToChannel</span> <span class="m">14</span> <span class="m">1</span> <span class="m">14</span>

// <span class="kd">link</span> <span class="kd">output</span> <span class="m">22</span> <span class="kd">to</span> <span class="kd">channel</span> <span class="m">22</span>
<span class="kd">linkTuyaMCUOutputToChannel</span> <span class="m">22</span> <span class="m">2</span> <span class="m">22</span>

// <span class="kd">link</span> <span class="kd">output</span> <span class="m">23</span> <span class="kd">to</span> <span class="kd">channel</span> <span class="m">23</span>
<span class="kd">linkTuyaMCUOutputToChannel</span> <span class="m">23</span> <span class="m">2</span> <span class="m">23</span>

</code></pre></div></div>

<p>You can also look at my post in electroda.come <a href="https://www.elektroda.com/rtvforum/topic3991120.html">here</a>. For power plug you need to calibrate your devices once you flashed the openbeken firmwares.</p>

<p><img src="/assets/img/tear_down_power_plug1.jpeg" alt="teardown" />
<img src="/assets/img/tear_down_power_plug2.jpeg" alt="teardown" />
<img src="/assets/img/tear_down_power_plug3.jpeg" alt="teardown" />
<img src="/assets/img/tear_down_power_plug4.jpeg" alt="teardown" />
<img src="/assets/img/tear_down_power_plug5.jpeg" alt="teardown" /></p>

<p>For this, you need a traditional incandascent lamp. You could use an LED buld as well but it won’t be accurate as the power fluctuates. An incadescent lamp draws exactly the same power at almost constant current without any fluctuations. I managed to find a 100W incandescent bulb from a local shop to calibrate the sensors. The 10A power plug and 16A power plug both uses BL0937 chip but the pin layout is different. Once you caliberate the device then you are good to go. You do not need any custom integration plugin for homeassistant and everything works completly local.</p>

<p>It seems there are a lot of IoT Devices that uses the same tuya platform. I saw a post from Pallaw Agarwal <a href="https://pallavaggarwal.in/2022/12/07/wipro-smart-plug-16a-teardown/">https://pallavaggarwal.in/2022/12/07/wipro-smart-plug-16a-teardown</a> who did a teardown of Wipro Smart Plug. The circuit board and the chip is very much identical and probably run the same tuya firmware. There is also one more brand called <a href="https://kamonk.in/">Kamonk</a> which looks identical to that of HomeMate. It may also run on the same firmware.</p>

<p><img src="/assets/img/homemate_madeinindia.png" alt="teardown" /></p>

<p>These brands are labeled as #ProudlyMadeIndia initiatives and procalimed as completly designed, developed and made in india. But atleast the entire software stack is not made by an Indian firm.</p>

<h2 id="homeassistant">HomeAssistant</h2>

<p>Once all devices are setup properly, this will come in the homeassistant. Since the blog entry is not specific to home assistant, I am not going into the details. But once evrything is done, the dashboard looks pretty good.</p>

<p><img src="/assets/img/dashboard.png" alt="dasboard" /></p>

        </div>
        
          <br><br>
<hr>
<h4>Comments</h4>
<div id="remark42"></div>
<section class="section">
  <div id="thread-id"></div>     
</section>  

<div id="disqus_thread"></div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://eionix-co-in.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        

      </main>
      <!-- Main post content end -->

    </div>
    
    <footer class="site-footer">
      
      <!-- <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span> -->
    </footer>
  </body>
</html>